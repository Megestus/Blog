import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as e,e as t,f as p,o}from"./app-DJGYRO-r.js";const l={};function i(c,n){return o(),a("div",null,[n[0]||(n[0]=e("p",null,"本文介绍Maya中常用的脚本帮助。",-1)),t(" more "),n[1]||(n[1]=p(`<p>常规情况下 我们是会通过 下方连接两个不同的api帮助来查询Maya的命令。</p><ul><li>https://help.autodesk.com/view/MAYAUL/2024/CHS/index.html?contextId=COMMANDS-INDEX （Maya Command）</li><li>https://help.autodesk.com/view/MAYAUL/2024/CHS/index.html?contextId=COMMANDSPYTHON-INDEX （Maya Python Command）</li></ul><p>还有一种情况就是我们得对属性编辑器里的节点属性进行查询，这时候我们就可以通过</p><ul><li>https://help.autodesk.com/view/MAYAUL/2024/CHS/index.html?contextId=NODES-INDEX（Maya Node）</li></ul><p>这两者结合起来 我们就可以查询到大部分的Maya命令和属性。</p><h3 id="查询和设置节点属性" tabindex="-1"><a class="header-anchor" href="#查询和设置节点属性"><span>查询和设置节点属性</span></a></h3><p>在Maya中，可以使用Python脚本来查询和设置节点的属性。以下是一些示例代码：</p><h4 id="查询节点的所有属性" tabindex="-1"><a class="header-anchor" href="#查询节点的所有属性"><span>查询节点的所有属性</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> maya<span class="token punctuation">.</span>cmds <span class="token keyword">as</span> cmds</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 假设你有一个名为 &#39;creaseSet1&#39; 的节点</span></span>
<span class="line">node_name <span class="token operator">=</span> <span class="token string">&#39;creaseSet1&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 列出节点的所有属性</span></span>
<span class="line">attributes <span class="token operator">=</span> cmds<span class="token punctuation">.</span>listAttr<span class="token punctuation">(</span>node_name<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;节点 &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>node_name<span class="token punctuation">}</span></span><span class="token string">&#39; 的属性列表:&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">for</span> attr <span class="token keyword">in</span> attributes<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="查询特定属性的详细信息" tabindex="-1"><a class="header-anchor" href="#查询特定属性的详细信息"><span>查询特定属性的详细信息</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> maya<span class="token punctuation">.</span>cmds <span class="token keyword">as</span> cmds</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查询 &#39;creaseLevel&#39; 属性的当前值</span></span>
<span class="line">crease_level <span class="token operator">=</span> cmds<span class="token punctuation">.</span>getAttr<span class="token punctuation">(</span><span class="token string">&#39;creaseSet1.creaseLevel&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;当前的 creaseLevel 值: </span><span class="token interpolation"><span class="token punctuation">{</span>crease_level<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="设置属性值" tabindex="-1"><a class="header-anchor" href="#设置属性值"><span>设置属性值</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> maya<span class="token punctuation">.</span>cmds <span class="token keyword">as</span> cmds</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置 &#39;creaseLevel&#39; 属性的新值</span></span>
<span class="line">new_level <span class="token operator">=</span> <span class="token number">2.0</span></span>
<span class="line">cmds<span class="token punctuation">.</span>setAttr<span class="token punctuation">(</span><span class="token string">&#39;creaseSet1.creaseLevel&#39;</span><span class="token punctuation">,</span> new_level<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;新的 creaseLevel 值: </span><span class="token interpolation"><span class="token punctuation">{</span>new_level<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="处理不同类型的属性" tabindex="-1"><a class="header-anchor" href="#处理不同类型的属性"><span>处理不同类型的属性</span></a></h3><p>在Maya中，有些属性可能是复合属性、数组属性，或者是没有直接值的属性。以下是一些处理这些情况的方法：</p><h4 id="检查属性是否存在" tabindex="-1"><a class="header-anchor" href="#检查属性是否存在"><span>检查属性是否存在</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> maya<span class="token punctuation">.</span>cmds <span class="token keyword">as</span> cmds</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 检查属性是否存在</span></span>
<span class="line">node_name <span class="token operator">=</span> <span class="token string">&#39;creaseSet1&#39;</span></span>
<span class="line">attr_name <span class="token operator">=</span> <span class="token string">&#39;memberWireframeColor&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> cmds<span class="token punctuation">.</span>attributeQuery<span class="token punctuation">(</span>attr_name<span class="token punctuation">,</span> node<span class="token operator">=</span>node_name<span class="token punctuation">,</span> exists<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        attr_value <span class="token operator">=</span> cmds<span class="token punctuation">.</span>getAttr<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;</span><span class="token interpolation"><span class="token punctuation">{</span>node_name<span class="token punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token punctuation">{</span>attr_name<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;当前的 </span><span class="token interpolation"><span class="token punctuation">{</span>attr_name<span class="token punctuation">}</span></span><span class="token string"> 值: </span><span class="token interpolation"><span class="token punctuation">{</span>attr_value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;无法获取属性值: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;属性 &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>attr_name<span class="token punctuation">}</span></span><span class="token string">&#39; 不存在于节点 &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>node_name<span class="token punctuation">}</span></span><span class="token string">&#39; 中。&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="处理复合属性和数组属性" tabindex="-1"><a class="header-anchor" href="#处理复合属性和数组属性"><span>处理复合属性和数组属性</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> maya<span class="token punctuation">.</span>cmds <span class="token keyword">as</span> cmds</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 假设 &#39;memberWireframeColor&#39; 是一个复合属性</span></span>
<span class="line">compound_attr <span class="token operator">=</span> <span class="token string">&#39;creaseSet1.memberWireframeColor&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取复合属性的子属性</span></span>
<span class="line">child_attrs <span class="token operator">=</span> cmds<span class="token punctuation">.</span>attributeQuery<span class="token punctuation">(</span><span class="token string">&#39;memberWireframeColor&#39;</span><span class="token punctuation">,</span> node<span class="token operator">=</span><span class="token string">&#39;creaseSet1&#39;</span><span class="token punctuation">,</span> listChildren<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;复合属性的子属性: </span><span class="token interpolation"><span class="token punctuation">{</span>child_attrs<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取数组属性的值</span></span>
<span class="line"><span class="token comment"># 假设 &#39;someArrayAttr&#39; 是一个数组属性</span></span>
<span class="line">array_attr <span class="token operator">=</span> <span class="token string">&#39;creaseSet1.someArrayAttr&#39;</span></span>
<span class="line"><span class="token keyword">if</span> cmds<span class="token punctuation">.</span>attributeQuery<span class="token punctuation">(</span><span class="token string">&#39;someArrayAttr&#39;</span><span class="token punctuation">,</span> node<span class="token operator">=</span><span class="token string">&#39;creaseSet1&#39;</span><span class="token punctuation">,</span> multi<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    array_values <span class="token operator">=</span> cmds<span class="token punctuation">.</span>getAttr<span class="token punctuation">(</span>array_attr<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;数组属性的值: </span><span class="token interpolation"><span class="token punctuation">{</span>array_values<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="处理连接属性" tabindex="-1"><a class="header-anchor" href="#处理连接属性"><span>处理连接属性</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> maya<span class="token punctuation">.</span>cmds <span class="token keyword">as</span> cmds</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 检查属性是否有连接</span></span>
<span class="line">connections <span class="token operator">=</span> cmds<span class="token punctuation">.</span>listConnections<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;</span><span class="token interpolation"><span class="token punctuation">{</span>node_name<span class="token punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token punctuation">{</span>attr_name<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">,</span> plugs<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> connections<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;属性 &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>attr_name<span class="token punctuation">}</span></span><span class="token string">&#39; 连接到: </span><span class="token interpolation"><span class="token punctuation">{</span>connections<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;属性 &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>attr_name<span class="token punctuation">}</span></span><span class="token string">&#39; 没有连接。&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过这些方法，你可以更好地处理和判断Maya中不同类型的属性。</p>`,22))])}const d=s(l,[["render",i],["__file","mayaScriptHelp.html.vue"]]),k=JSON.parse('{"path":"/posts/maya/mayaScriptHelp.html","title":"Maya 脚本 帮助","lang":"zh-CN","frontmatter":{"title":"Maya 脚本 帮助","icon":"iconfont alicon-maya1","category":["Maya"],"tags":["Maya"],"cover":"https://megestus-1309556466.cos.ap-shanghai.myqcloud.com/img/202412081341367.png","description":"本文介绍Maya中常用的脚本帮助。","head":[["meta",{"property":"og:url","content":"https:///about.md/blog/posts/maya/mayaScriptHelp.html"}],["meta",{"property":"og:site_name","content":"Megestus"}],["meta",{"property":"og:title","content":"Maya 脚本 帮助"}],["meta",{"property":"og:description","content":"本文介绍Maya中常用的脚本帮助。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://megestus-1309556466.cos.ap-shanghai.myqcloud.com/img/202412081341367.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-08T05:42:41.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://megestus-1309556466.cos.ap-shanghai.myqcloud.com/img/202412081341367.png"}],["meta",{"name":"twitter:image:alt","content":"Maya 脚本 帮助"}],["meta",{"property":"article:tag","content":"Maya"}],["meta",{"property":"article:modified_time","content":"2024-12-08T05:42:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Maya 脚本 帮助\\",\\"image\\":[\\"https://megestus-1309556466.cos.ap-shanghai.myqcloud.com/img/202412081341367.png\\"],\\"dateModified\\":\\"2024-12-08T05:42:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Megestus\\",\\"url\\":\\"https://github.com/Megestus\\"}]}"]]},"headers":[{"level":3,"title":"查询和设置节点属性","slug":"查询和设置节点属性","link":"#查询和设置节点属性","children":[]},{"level":3,"title":"处理不同类型的属性","slug":"处理不同类型的属性","link":"#处理不同类型的属性","children":[]}],"git":{"createdTime":1733636561000,"updatedTime":1733636561000,"contributors":[{"name":"Megestus","email":"75190962+Megestus@users.noreply.github.com","commits":1}]},"filePathRelative":"posts/maya/mayaScriptHelp.md","localizedDate":"2024年12月8日","excerpt":"<p>本文介绍Maya中常用的脚本帮助。</p>\\n","autoDesc":true}');export{d as comp,k as data};
